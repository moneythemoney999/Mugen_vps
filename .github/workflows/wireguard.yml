name: WireGuard VPS

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Installer WireGuard et gÃ©nÃ©rer les clÃ©s
      run: |
        sudo apt update
        sudo apt install -y wireguard qrencode

        umask 077
        wg genkey | tee server_private.key | wg pubkey > server_public.key
        wg genkey | tee client_private.key | wg pubkey > client_public.key

        echo "=== ğŸ” Server Private Key ==="
        cat server_private.key
        echo "=== ğŸ” Server Public Key ==="
        cat server_public.key
        echo "=== ğŸ” Client Private Key ==="
        cat client_private.key
        echo "=== ğŸ” Client Public Key ==="
        cat client_public.key

        echo "=== âœ… DONE ==="
        sleep 300  # Pour que t'aies le temps de copier
